{% extends 'base.html' %}
{% block title %}Atividades{% endblock %}
{% block content %}
<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="m-0">Atividades</h3>
    <a href="{{ url_for('atividades_novo') }}" class="btn btn-light">Lançar atividade</a>
  </div>

  {% if atividades %}
    <div class="table-responsive">
      <table class="table table-dark table-striped align-middle">
        <thead>
          <tr>
            <th>Aluno</th>
            <th>Data</th>
            <th>Conteúdo</th>
            <th>Observação</th>
            <th class="text-end">Ações</th>
          </tr>
        </thead>
        <tbody>
          {% for a in atividades %}
          <tr>
            <td>{{ a.aluno.nome if a.aluno else '—' }}</td>
            <td>{{ a.data_atividade or '—' }}</td>
            <td class="text-break">{{ a.conteudo or '—' }}</td>
            <td class="text-break">{{ a.observacao or '—' }}</td>
            <td class="text-end">
              <a class="btn btn-sm btn-outline-light" href="{{ url_for('atividades_editar', id=a.id) }}">Editar</a>
              <form method="post" action="{{ url_for('atividades_excluir', id=a.id) }}" class="d-inline" onsubmit="return confirm('Excluir esta atividade?');">
                <button class="btn btn-sm btn-outline-danger">Excluir</button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <div class="alert alert-secondary">Nenhuma atividade lançada.</div>
  {% endif %}
</div>
{% endblock %}
